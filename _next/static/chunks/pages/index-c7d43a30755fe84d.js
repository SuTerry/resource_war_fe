(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(441)}])},441:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var r=n(7568),a=n(1799),o=n(9396),i=n(603),s=n(414),u=n(5893),c=n(8002),l=n(3032),d=n(7294),p=n(6772),_=n(7476);function h(){var t=function(){j.description,j.resource_path,j.addr_type,j.addr,j.addr_description,j.chains;return{type:"entry_function_payload",function:c.Pz+"::entrys::create_miner",type_arguments:[],arguments:[]}},e=function(){var t=j.description;j.resource_path,j.addr_type,j.addr,j.addr_description,j.chains;return{type:"entry_function_payload",function:c.Pz+"::entrys::claim_reward",type_arguments:[],arguments:[t]}},n=(0,l.useWallet)(),h=n.account,f=n.signAndSubmitTransaction,y=new p.WalletClient(c.UE,c.Zt),b=(0,i.Z)(d.useState(),2),g=b[0],m=b[1],k=(0,i.Z)(d.useState({tokens:[]}),2),w=k[0],x=k[1],v=(0,d.useState)({description:"",resource_path:"",addr_type:1,addr:"",addr_description:"",chains:[]}),j=v[0],C=v[1];function N(){return(N=(0,r.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return[4,f(t(),{gas_unit_price:100})];case 1:return e.sent(),[2]}}))}))).apply(this,arguments)}function S(){return(S=(0,r.Z)((function(){return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return[4,f(e(),{gas_unit_price:100})];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function T(t,e){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)((function(t,e){var n,r,a,o;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return e?[3,2]:[4,y.aptosClient.getAccountResources(h.address.toString())];case 1:r=i.sent(),n=r.find((function(t){return"0x3::token::TokenStore"===t.type})),i.label=2;case 2:return a={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:t},[4,y.aptosClient.getTableItem(e||n.data.tokens.handle,a)];case 3:return(o=i.sent()).collection=t.token_data_id.collection,[2,o]}}))}))).apply(this,arguments)}function E(){return(E=(0,r.Z)((function(){var t,e,n,r,a,o,i,u;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return[4,y.getTokenIds(h.address.toString())];case 1:t=s.sent().tokenIds,e=[],n=0,r=0,s.label=2;case 2:return r<t.length?(console.log(t[r].data.token_data_id.creator),console.log(c.L0),"1"!=t[r].data.property_version||t[r].data.token_data_id.creator!=c.L0?[3,4]:(console.log(t[r]),[4,T(t[r].data)])):[3,5];case 3:a=s.sent(),console.log(a),o=a.token_properties.map.data[0].value.value.slice(2),i=new _.Deserializer(new Uint8Array(o.match(/.{1,2}/g).map((function(t){return parseInt(t,16)})))),u=i.deserializeU64().toString(),e[n]={name:a.id.token_data_id.name,source:a.token_properties.map.data[0].value.value,pro:u},n++,s.label=4;case 4:return++r,[3,2];case 5:return x({tokens:e}),[2]}}))}))).apply(this,arguments)}function I(){return(I=(0,r.Z)((function(){return(0,s.__generator)(this,(function(t){return y.aptosClient.getAccountResource(h.address.toString(),"0x1::coin::CoinStore<"+c.Pz+"::resource::Resource>").then(m),[2]}))}))).apply(this,arguments)}return(0,u.jsxs)("div",{children:[(0,u.jsx)("br",{}),(0,u.jsx)("button",{onClick:function(){return N.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Create Miner"}),(0,u.jsx)("br",{}),(0,u.jsx)("input",{placeholder:"Description for your DID",className:"mt-8 p-4 input input-bordered input-primary w-full",onChange:function(t){return C((0,o.Z)((0,a.Z)({},j),{description:t.target.value}))}}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{onClick:function(){return S.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Claim Reward"}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{onClick:function(){return E.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Get User Tokens"}),(0,u.jsx)("p",{children:JSON.stringify(w)}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{onClick:function(){return I.apply(this,arguments)},className:"btn btn-primary font-bold mt-4  text-white rounded p-4 shadow-lg",children:"Get Resource Token Amount"}),(0,u.jsx)("p",{children:JSON.stringify(g)}),(0,u.jsx)("br",{})]})}}},function(t){t.O(0,[980,774,888,179],(function(){return e=8312,t(t.s=e);var e}));var e=t.O();_N_E=e}]);